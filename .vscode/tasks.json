{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    "version": "2.0.0",
    "tasks": [
        {
            "label": "stop qemu",
            "type": "shell",
            "command": "pkill qemu-system-x86_64 -f",
            "problemMatcher": []
        },
        {
            "label": "start qemu",
            "type": "process",
            // presentation 和 isBackground:true 配合
            // 可以关掉 
            // the task cannot be tracked. Make sure to have a problem matcher defined 弹框
            "presentation": {
                "reveal": "never"
            },
            "isBackground": true,
            "command": "qemu-system-x86_64",
            "args": [
                "--kernel",
                "./linux/arch/x86/boot/bzImage",
                "-initrd",
                "./buildroot/output/images/rootfs.cpio",
                "-device",
                "e1000,netdev=eth0",
                "-netdev",
                "user,id=eth0,hostfwd=tcp::5555-:22,net=192.168.76.0/24,dhcpstart=192.168.76.9",
                "-append",
                "nokaslr console=ttyS0",
                "-S",
                "-nographic",
                "-gdb",
                "tcp::1234",
                "-virtfs",
                "local,path=/,security_model=none,mount_tag=guestroot"
            ]
        }
    ]
}
